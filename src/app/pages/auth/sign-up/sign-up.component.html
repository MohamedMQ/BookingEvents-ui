<div
  class="w-[90%] md:w-120 bg-white absolute flex flex-col items-center justify-center p-12 gap-6 rounded-2xl -translate-x-[50%] -translate-y-[50%] z-51"
>
  <div class="flex flex-col gap-1 items-center justify-center">
    <h1 class="font-bold text-2xl">Sign up</h1>
    <h3 class="text-gray-500">Welcome back! Please sign up a new account</h3>
  </div>
  <form
    class="w-full flex flex-col gap-8"
    [formGroup]="form"
    (ngSubmit)="onCreateAccount()"
  >
    <div class="flex flex-col gap-2">
      <div class="w-full flex flex-col gap-1">
        <label class="text-gray-500 cursor-pointer" for="name">Username</label>
        <div
          class="border-2 border-gray-200 p-1.5 rounded-md relative"
          [class.invalid]="
            (form.controls['name'].hasError('required') ||
              form.controls['name'].hasError('pattern')) &&
            isSubmited
          "
        >
          <input
            class="outline-none w-full"
            id="name"
            type="text"
            formControlName="name"
            appInputFocus
          />
          <div
            class="tooltip-show absolute right-0 top-1/2 hidden"
            [class.hide]="
              (form.controls['name'].hasError('required') ||
                form.controls['name'].hasError('pattern')) &&
              isSubmited
            "
          >
            <fa-icon
              class="absolute top-1/2 -translate-1/2 right-0 text-red-600"
              data-tooltip-target="username-tooltip"
              [icon]="faCircleExclamation"
            ></fa-icon>
            <div
              id="username-tooltip"
              class="absolute bg-gray-700 text-white text-xs rounded px-2 py-1 invisible opacity-0 transition-opacity duration-300 bottom-full right-0 mb-2 w-50"
            >
              Username must be 3-20 characters long and can only contain
              letters, numbers, and underscores.
            </div>
          </div>
        </div>
        <p
          class="text-sm mt-1 text-red-600"
          *ngIf="form.controls['name'].hasError('required') && isSubmited"
        >
          <span
            ><fa-icon class="mr-0.5" [icon]="faCircleExclamation"></fa-icon
          ></span>
          Enter user name
        </p>
        <p
          class="text-sm mt-1 text-red-600"
          *ngIf="form.controls['name'].hasError('pattern') && isSubmited"
        >
          <span
            ><fa-icon class="mr-0.5" [icon]="faCircleExclamation"></fa-icon
          ></span>
          Enter user name
        </p>
      </div>
      <div class="w-full flex flex-col gap-1">
        <label class="text-gray-500 cursor-pointer" for="email">Email address</label>
        <div>
          <input
            class="outline-none border-2 border-gray-200 w-full p-1.5 rounded-md"
            id="email"
            type="text"
            formControlName="email"
            [class.invalid]="
              (form.controls['email'].hasError('required') ||
                form.controls['email'].hasError('email')) &&
              isSubmited
            "
          />
          <p
            *ngIf="
              form.controls['email'].hasError('email') &&
              isSubmited
            "
            class="text-sm mt-1 text-red-600"
          >
            <span
              ><fa-icon class="mr-0.5" [icon]="faCircleExclamation"></fa-icon
            ></span>
            Invalid email address
          </p>
          <p
            *ngIf="
              form.controls['email'].hasError('required') &&
              isSubmited
            "
            class="text-sm mt-1 text-red-600"
          >
            <span
              ><fa-icon
                class="mr-0.5"
                [icon]="faCircleExclamation"
              ></fa-icon
            ></span>
            Enter email address
          </p>
        </div>
      </div>
      <div class="w-full flex flex-col gap-1">
        <label class="text-gray-500 cursor-pointer" for="password">Password</label>
        <div
          class="border-2 border-gray-200 p-1.5 rounded-md relative"
          [class.invalid]="
            (form.controls['password'].hasError('required') ||
              form.controls['password'].hasError('pattern')) &&
            isSubmited
          "
        >
          <input
            class="outline-none w-full"
            id="password"
            type="password"
            formControlName="password"
          />
          <div
            class="tooltip-show absolute right-0 top-1/2 hidden"
            [class.hide]="
              (form.controls['password'].hasError('required') ||
                form.controls['password'].hasError('pattern')) &&
              isSubmited
            "
          >
            <fa-icon
              class="absolute top-1/2 -translate-1/2 right-0 text-red-600"
              data-tooltip-target="password-tooltip"
              [icon]="faCircleExclamation"
            ></fa-icon>
            <div
              id="password-tooltip"
              class="absolute bg-gray-700 text-white text-xs rounded px-2 py-1 invisible opacity-0 transition-opacity duration-300 bottom-full right-0 mb-2 w-70"
            >
              Password must be at least 8 characters long, and include:
              <ul>
                <li>At least one uppercase letter (A-Z)</li>
                <li>At least one lowercase letter (a-z)</li>
                <li>At least one digit (0-9)</li>
                <li>At least one special character (!&#64;#$%^&*)</li>
              </ul>
            </div>
          </div>
        </div>
        <p
          class="text-sm mt-1 text-red-600"
          *ngIf="form.controls['password'].hasError('pattern') && isSubmited"
        >
          <span
            ><fa-icon class="mr-0.5" [icon]="faCircleExclamation"></fa-icon
          ></span>
          Invalid password
        </p>
        <p
          class="text-sm mt-1 text-red-600"
          *ngIf="form.controls['password'].hasError('required') && isSubmited"
        >
          <span
            ><fa-icon class="mr-0.5" [icon]="faCircleExclamation"></fa-icon
          ></span>
          Enter password
        </p>
      </div>
    </div>
    <button
      class="w-full flex gap-2 items-center justify-center bg-gray-400 text-white py-2 rounded-lg font-medium"
      type="submit"
      [disabled]="isLoading"
    >
      <fa-icon
        class="animate-spin"
        [icon]="faSpinner"
        *ngIf="isLoading"
      ></fa-icon>
      <p *ngIf="!isLoading" >Continue</p>
      <div
        class="w-0 h-0 border-t-[4px] border-t-transparent border-l-[6px] border-l-white border-b-[4px] border-b-transparent"
        *ngIf="!isLoading"
      ></div>
    </button>
  </form>
  <p
    class="text-gray-500 cursor-pointer"
    (click)="switchToSignIn()"
  >
    Already have an account? &nbsp;<span class="text-black">Sign in</span>
  </p>
</div>
